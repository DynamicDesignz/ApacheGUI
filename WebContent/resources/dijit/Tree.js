require({cache:{"url:dijit/templates/Tree.html":'<div role="tree">\n\t<div class="dijitInline dijitTreeIndent" style="position: absolute; top: -9999px" data-dojo-attach-point="indentDetector"></div>\n\t<div class="dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point="rootLoadingIndicator"></div>\n\t<div data-dojo-attach-point="containerNode" class="dijitTreeContainer" role="presentation">\n\t</div>\n</div>\n',"url:dijit/templates/TreeNode.html":'<div class="dijitTreeNode" role="presentation"\n\t><div data-dojo-attach-point="rowNode" class="dijitTreeRow" role="presentation"\n\t\t><span data-dojo-attach-point="expandoNode" class="dijitInline dijitTreeExpando" role="presentation"></span\n\t\t><span data-dojo-attach-point="expandoNodeText" class="dijitExpandoText" role="presentation"></span\n\t\t><span data-dojo-attach-point="contentNode"\n\t\t\tclass="dijitTreeContent" role="presentation">\n\t\t\t<span role="presentation" class="dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point="iconNode"></span\n\t\t\t><span data-dojo-attach-point="labelNode,focusNode" class="dijitTreeLabel" role="treeitem" tabindex="-1" aria-selected="false"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point="containerNode" class="dijitTreeNodeContainer" role="presentation" style="display: none;"></div>\n</div>\n'}});define("dijit/Tree",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/promise/all","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/errors/create","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./a11yclick","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","./_KeyNavMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector","dojo/query!css2"],function(f,m,o,x,d,g,q,a,p,M,K,i,I,c,v,t,e,y,u,E,z,r,C,F,L,n,h,A,H,B,s,w,G,k,l,J){function b(N){return e.delegate(N.promise||N,{addCallback:function(O){this.then(O)},addErrback:function(O){this.otherwise(O)}})}var D=d("dijit._TreeNode",[n,h,A,H,B],{item:null,isTreeNode:true,label:"",_setLabelAttr:function(N){this.labelNode[this.labelType=="html"?"innerHTML":"innerText" in this.labelNode?"innerText":"textContent"]=N;this._set("label",N)},labelType:"text",isExpandable:null,isExpanded:false,state:"NotLoaded",templateString:w,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded)}this.setSelected(false)},_setIndentAttr:function(N){var O=(Math.max(N,0)*this.tree._nodePixelIndent)+"px";K.set(this.domNode,"backgroundPosition",O+" 0px");K.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",O);f.forEach(this.getChildren(),function(P){P.set("indent",N+1)});this._set("indent",N)},markProcessing:function(){this.state="Loading";this._setExpando(true)},unmarkProcessing:function(){this._setExpando(false)},_updateItemClasses:function(P){var N=this.tree,O=N.model;if(N._v10Compat&&P===O.root){P=null}this._applyClassAndStyle(P,"icon","Icon");this._applyClassAndStyle(P,"label","Label");this._applyClassAndStyle(P,"row","Row");this.tree._startPaint(true)},_applyClassAndStyle:function(R,N,P){var Q="_"+N+"Class";var S=N+"Node";var O=this[Q];this[Q]=this.tree["get"+P+"Class"](R,this.isExpanded);p.replace(this[S],this[Q]||"",O||"");K.set(this[S],this.tree["get"+P+"Style"](R,this.isExpanded)||{})},_updateLayout:function(){var N=this.getParent();if(!N||!N.rowNode||N.rowNode.style.display=="none"){p.add(this.domNode,"dijitTreeIsRoot")}else{p.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling())}},_setExpando:function(Q){var P=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],O=["*","-","+","*"],N=Q?0:(this.isExpandable?(this.isExpanded?1:2):3);p.replace(this.expandoNode,P[N],P);this.expandoNodeText.innerHTML=O[N]},expand:function(){if(this._expandDeferred){return b(this._expandDeferred)}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group")}p.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true")}var N=I.wipeIn({node:this.containerNode,duration:L.defaultDuration});var O=(this._expandDeferred=new g(function(){N.stop()}));m.after(N,"onEnd",function(){O.resolve(true)},true);N.play();return b(O)},collapse:function(){if(this._collapseDeferred){return b(this._collapseDeferred)}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false")}p.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var O=I.wipeOut({node:this.containerNode,duration:L.defaultDuration});var N=(this._collapseDeferred=new g(function(){O.stop()}));m.after(O,"onEnd",function(){N.resolve(true)},true);O.play();return b(N)},indent:0,setChildItems:function(P){var O=this.tree,Q=O.model,N=[];var S=this.getChildren();f.forEach(S,function(T){A.prototype.removeChild.call(this,T)},this);this.defer(function(){f.forEach(S,function(U){if(!U._destroyed&&!U.getParent()){O.dndController.removeTreeNode(U);function T(Z){var aa=Q.getIdentity(Z.item),Y=O._itemNodesMap[aa];if(Y.length==1){delete O._itemNodesMap[aa]}else{var X=f.indexOf(Y,Z);if(X!=-1){Y.splice(X,1)}}f.forEach(Z.getChildren(),T)}T(U);if(O.persist){var V=f.map(U.getTreePath(),function(X){return O.model.getIdentity(X)}).join("/");for(var W in O._openedNodes){if(W.substr(0,V.length)==V){delete O._openedNodes[W]}}O._saveExpandedNodes()}U.destroyRecursive()}})});this.state="Loaded";if(P&&P.length>0){this.isExpandable=true;f.forEach(P,function(W){var X=Q.getIdentity(W),T=O._itemNodesMap[X],V;if(T){for(var U=0;U<T.length;U++){if(T[U]&&!T[U].getParent()){V=T[U];V.set("indent",this.indent+1);break}}}if(!V){V=this.tree._createTreeNode({item:W,tree:O,isExpandable:Q.mayHaveChildren(W),label:O.getLabel(W),labelType:(O.model&&O.model.labelType)||"text",tooltip:O.getTooltip(W),ownerDocument:O.ownerDocument,dir:O.dir,lang:O.lang,textDir:O.textDir,indent:this.indent+1});if(T){T.push(V)}else{O._itemNodesMap[X]=[V]}}this.addChild(V);if(this.tree.autoExpand||this.tree._state(V)){N.push(O._expandNode(V))}},this);f.forEach(this.getChildren(),function(T){T._updateLayout()})}else{this.isExpandable=false}if(this._setExpando){this._setExpando(false)}this._updateItemClasses(this.item);var R=q(N);this.tree._startPaint(R);return b(R)},getTreePath:function(){var N=this;var O=[];while(N&&N!==this.tree.rootNode){O.unshift(N.item);N=N.getParent()}O.unshift(this.tree.rootNode.item);return O},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(O){this.inherited(arguments);var N=this.getChildren();if(N.length==0){this.isExpandable=false;this.collapse()}f.forEach(N,function(P){P._updateLayout()})},makeExpandable:function(){this.isExpandable=true;this._setExpando(false)},setSelected:function(N){this.labelNode.setAttribute("aria-selected",N?"true":"false");p.toggle(this.rowNode,"dijitTreeRowSelected",N)},focus:function(){C.focus(this.focusNode)}});if(c("dojo-bidi")){D.extend({_setTextDirAttr:function(N){if(N&&((this.textDir!=N)||!this._created)){this._set("textDir",N);this.applyTextDir(this.labelNode);f.forEach(this.getChildren(),function(O){O.set("textDir",N)},this)}}})}var j=d("dijit.Tree",[n,s,h,B],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:G,persist:false,autoExpand:false,dndController:J,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,handlers:[],itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(N,O){u.publish(this.id,e.mixin({tree:this,event:N},O||{}))},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie"}this.expandChildrenDeferred=new g();this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();for(O in this.handlers){this.handlers[O].remove()}this.handlers=[];this.handlers.push(y(this.containerNode,y.selector(".dijitTreeNode",E.enter),function(Q){N._onNodeMouseEnter(F.byNode(this),Q)}),y(this.containerNode,y.selector(".dijitTreeNode",E.leave),function(Q){N._onNodeMouseLeave(F.byNode(this),Q)}),y(this.containerNode,y.selector(".dijitTreeRow",r.press),function(Q){N._onNodePress(F.getEnclosingWidget(this),Q)}),y(this.containerNode,y.selector(".dijitTreeRow",r),function(Q){N._onClick(F.getEnclosingWidget(this),Q)}),y(this.containerNode,y.selector(".dijitTreeRow","dblclick"),function(Q){N._onDblClick(F.getEnclosingWidget(this),Q)}));var N=this;if(!this.model){this._store2model()}this.handlers.push(m.after(this.model,"onChange",e.hitch(this,"_onItemChange"),true),m.after(this.model,"onChildrenChange",e.hitch(this,"_onItemChildrenChange"),true),m.after(this.model,"onDelete",e.hitch(this,"_onItemDelete"),true));for(O in this.handlers){this.own(this.handlers[O])}this.inherited(arguments);if(this.dndController){if(e.isString(this.dndController)){this.dndController=e.getObject(this.dndController)}var P={};for(var O=0;O<this.dndParams.length;O++){if(this[this.dndParams[O]]){P[this.dndParams[O]]=this[this.dndParams[O]]}}this.dndController=new this.dndController(this,P)}this._load();this.onLoadDeferred=b(this.pendingCommandsPromise);this.onLoadDeferred.then(e.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=true;v.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var N={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){N.mayHaveChildren=e.hitch(this,"mayHaveChildren")}if(this.params.getItemChildren){N.getChildren=e.hitch(this,function(P,Q,O){this.getItemChildren((this._v10Compat&&P===this.model.root)?null:P,Q,O)})}this.model=new l(N);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(e.hitch(this,function(O){var P=(this.rootNode=this.tree._createTreeNode({item:O,tree:this,isExpandable:true,label:this.label||this.getLabel(O),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){P.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");if(this["aria-label"]){P.containerNode.setAttribute("aria-label",this["aria-label"]);this.domNode.removeAttribute("aria-label")}else{if(this["aria-labelledby"]){P.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);this.domNode.removeAttribute("aria-labelledby")}}P.labelNode.setAttribute("role","presentation");P.containerNode.setAttribute("role","tree");P.containerNode.setAttribute("aria-expanded","true");P.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular)}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);this.rootLoadingIndicator.style.display="none"}this.containerNode.appendChild(P.domNode);var N=this.model.getIdentity(O);if(this._itemNodesMap[N]){this._itemNodesMap[N].push(P)}else{this._itemNodesMap[N]=[P]}P._updateLayout();this._expandNode(P).then(e.hitch(this,function(){this.rootLoadingIndicator.style.display="none";this.expandChildrenDeferred.resolve(true)}))}),e.hitch(this,function(N){console.error(this,": error loading root: ",N)}))},getNodesByItem:function(O){if(!O){return[]}var N=e.isString(O)?O:this.model.getIdentity(O);return[].concat(this._itemNodesMap[N])},_setSelectedItemAttr:function(N){this.set("selectedItems",[N])},_setSelectedItemsAttr:function(O){var N=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(e.hitch(this,function(){var Q=f.map(O,function(R){return(!R||e.isString(R))?R:N.model.getIdentity(R)});var P=[];f.forEach(Q,function(R){P=P.concat(N._itemNodesMap[R]||[])});this.set("selectedNodes",P)}))},_setPathAttr:function(N){if(N.length){return b(this.set("paths",[N]).then(function(O){return O[0]}))}else{return b(this.set("paths",[]).then(function(O){return O[0]}))}},_setPathsAttr:function(Q){var N=this;function P(U,T){var S=U.shift();var R=f.filter(T,function(V){return V.getIdentity()==S})[0];if(!!R){if(U.length){return N._expandNode(R).then(function(){return P(U,R.getChildren())})}else{return R}}else{throw new j.PathError("Could not expand path at "+S)}}return b(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return q(f.map(Q,function(R){R=f.map(R,function(S){return e.isString(S)?S:N.model.getIdentity(S)});if(R.length){return P(R,[N.rootNode])}else{throw new j.PathError("Empty path")}}))}).then(function O(R){N.set("selectedNodes",R);return N.paths}))},_setSelectedNodeAttr:function(N){this.set("selectedNodes",[N])},_setSelectedNodesAttr:function(N){this.dndController.setSelection(N)},expandAll:function(){var O=this;function N(P){return O._expandNode(P).then(function(){var Q=f.filter(P.getChildren()||[],function(R){return R.isExpandable});return q(f.map(Q,N))})}return b(N(this.rootNode))},collapseAll:function(){var O=this;function N(R){var Q=f.filter(R.getChildren()||[],function(S){return S.isExpandable}),P=q(f.map(Q,N));if(!R.isExpanded||(R==O.rootNode&&!O.showRoot)){return P}else{return P.then(function(){return O._collapseNode(R)})}}return b(N(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(N){return this.model.getLabel(N)},getIconClass:function(N,O){return(!N||this.model.mayHaveChildren(N))?(O?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(O,P){var N=this._getNext(P);if(N&&N.isTreeNode){this.focusNode(N)}},_onUpArrow:function(N,R){var Q=R.getPreviousSibling();if(Q){R=Q;while(R.isExpandable&&R.isExpanded&&R.hasChildren()){var O=R.getChildren();R=O[O.length-1]}}else{var P=R.getParent();if(!(!this.showRoot&&P===this.rootNode)){R=P}}if(R&&R.isTreeNode){this.focusNode(R)}},_onRightArrow:function(N,O){if(O.isExpandable&&!O.isExpanded){this._expandNode(O)}else{if(O.hasChildren()){O=O.getChildren()[0];if(O&&O.isTreeNode){this.focusNode(O)}}}},_onLeftArrow:function(N,P){if(P.isExpandable&&P.isExpanded){this._collapseNode(P)}else{var O=P.getParent();if(O&&O.isTreeNode&&!(!this.showRoot&&O===this.rootNode)){this.focusNode(O)}}},focusLastChild:function(){var N=this._getLast();if(N&&N.isTreeNode){this.focusNode(N)}},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){var N=this.rootNode;while(N.isExpanded){var O=N.getChildren();if(!O.length){break}N=O[O.length-1]}return N},_getNext:function(O){if(O.isExpandable&&O.isExpanded&&O.hasChildren()){return O.getChildren()[0]}else{while(O&&O.isTreeNode){var N=O.getNextSibling();if(N){return N}O=O.getParent()}return null}},childSelector:".dijitTreeRow",isExpandoNode:function(N,O){return a.isDescendant(N,O.expandoNode)||a.isDescendant(N,O.expandoNodeText)},_onNodePress:function(N,O){N.focus()},__click:function(N,R,Q,P){var S=R.target,O=this.isExpandoNode(S,N);if(N.isExpandable&&(Q||O)){this._onExpandoClick({node:N})}else{this._publish("execute",{item:N.item,node:N,evt:R});this[P](N.item,N,R);this.focusNode(N)}R.stopPropagation();R.preventDefault()},_onClick:function(N,O){this.__click(N,O,this.openOnClick,"onClick")},_onDblClick:function(N,O){this.__click(N,O,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(O){var N=O.node;this.focusNode(N);if(N.isExpanded){this._collapseNode(N)}else{this._expandNode(N)}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(N){v.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(N)},_getRootOrFirstNode:function(){v.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(O){if(O._expandNodeDeferred){delete O._expandNodeDeferred}if(O.state=="Loading"){return}if(O.isExpanded){var N=O.collapse();this.onClose(O.item,O);this._state(O,false);this._startPaint(N);return N}},_expandNode:function(P){if(P._expandNodeDeferred){return P._expandNodeDeferred}var N=this.model,O=P.item,R=this;if(!P._loadDeferred){P.markProcessing();P._loadDeferred=new g();N.getChildren(O,function(S){P.unmarkProcessing();P.setChildItems(S).then(function(){P._loadDeferred.resolve(S)})},function(S){console.error(R,": error loading "+P.label+" children: ",S);P._loadDeferred.reject(S)})}var Q=P._loadDeferred.then(e.hitch(this,function(){var S=P.expand();this.onOpen(P.item,P);this._state(P,true);return S}));this._startPaint(Q);return Q},focusNode:function(N){this.focusChild(N)},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(R){var Q=this.model,O=Q.getIdentity(R),N=this._itemNodesMap[O];if(N){var P=this.getLabel(R),S=this.getTooltip(R);f.forEach(N,function(T){T.set({item:R,label:P,tooltip:S});T._updateItemClasses(R)})}},_onItemChildrenChange:function(R,Q){var P=this.model,O=P.getIdentity(R),N=this._itemNodesMap[O];if(N){f.forEach(N,function(S){S.setChildItems(Q)})}},_onItemDelete:function(Q){var P=this.model,O=P.getIdentity(Q),N=this._itemNodesMap[O];if(N){f.forEach(N,function(S){this.dndController.removeTreeNode(S);var R=S.getParent();if(R){R.removeChild(S)}S.destroyRecursive()},this);delete this._itemNodesMap[O]}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var N=x(this.cookieName);if(N){f.forEach(N.split(","),function(O){this._openedNodes[O]=true},this)}}},_state:function(O,N){if(!this.persist){return false}var P=f.map(O.getTreePath(),function(Q){return this.model.getIdentity(Q)},this).join("/");if(arguments.length===1){return this._openedNodes[P]}else{if(N){this._openedNodes[P]=true}else{delete this._openedNodes[P]}this._saveExpandedNodes()}},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var N=[];for(var O in this._openedNodes){N.push(O)}x(this.cookieName,N.join(","),{expires:365})}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch}if(this.rootNode){this.rootNode.destroyRecursive()}if(this.dndController&&!e.isString(this.dndController)){this.dndController.destroy()}this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(N){if(N){M.setMarginBox(this.domNode,N)}this._nodePixelIndent=M.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(e.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(O){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer}var N=e.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths")}});z(O,N,N)},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer}this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(N){return new D(N)},focus:function(){if(this.lastFocusedChild){this.focusNode(this.lastFocusedChild)}else{this.focusFirstChild()}}});if(c("dojo-bidi")){j.extend({_setTextDirAttr:function(N){if(N&&this.textDir!=N){this._set("textDir",N);this.rootNode.set("textDir",N)}}})}j.PathError=i("TreePathError");j._TreeNode=D;return j});